@using Sandbox.UI;
@inherits PanelComponent
@namespace Bydrive

<root class="@UI.ActiveIf(UI.ShowRaceHUD() || !Race.IsTimeTrial) @GetClasses()">
	@if(HasItem())
	{
		<label class="item">
			@GetCurrentItem()?.Title
		</label>
	}
	else
	{
		<label class="noitem">
			NONE
		</label>
	}
</root>

@code
{
	private ItemDefinition GetCurrentItem() => GetLocalVehicle()?.CurrentItem;
	private bool HasItem() => GetCurrentItem() != default;
	private string GetClasses()
	{
		if(HasItem()) return "has_item";
		return "";
	}
	protected override int BuildHash() => HashCode.Combine( GetCurrentItem(), HasItem(), UI.ShowRaceHUD() );
}